.container
  %h1 User#Show
  .row
    = link_to 'Back to Users', users_path, {class: "btn btn-default"}
    -# TODO add authorisation to edit - if policy(User).edit?
    = link_to 'Edit', edit_user_registration_path(@user), {class: "btn btn-primary"}
    -# TODO add authorisation to destroy - if policy(User).destroy?
    = link_to 'Delete', user_path(@user), {method: :delete, class: "btn btn-danger", data: {confirm: "Are you sure you want to delete this user?"}}
  .row
    %h3
      - unless @user.locked_at == nil
        Account Locked at:
        = @user.locked_at
    %h3
      Name:
      =@user.name
    %h3
      Email:
      = @user.email
    %h3
      Role:
      = @user.role
    %h3
      Date Created:
      = @user.created_at
    %h3
      - unless @user.confirmed_at == nil || @user.unconfirmed_email != nil
        Confirmed at:
        = @user.confirmed_at
      - else
        Confirmation sent at:
        = @user.confirmation_sent_at
    %h3
      Sign in count:
      = @user.sign_in_count
    %h3
      Last signed in:
      = @user.last_sign_in_at
    %h3
      Failed Login attempts:
      = @user.failed_attempts
    %h3
      -# TODO email reset token is not removed once the password is reset
      - unless @user.reset_password_token == nil
        Password reset sent at:
        = @user.reset_password_sent_at


